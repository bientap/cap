<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_112) on Tue Jul 31 15:24:02 CEST 2018 -->
<title>DownloaderPlugin (castLabs Player SDK - Downloader Plugin)</title>
<meta name="date" content="2018-07-31">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DownloaderPlugin (castLabs Player SDK - Downloader Plugin)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/castlabs/sdk/downloader/Downloader.ModelReadyCallback.html" title="interface in com.castlabs.sdk.downloader"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.StorageLowMode.html" title="annotation in com.castlabs.sdk.downloader"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/castlabs/sdk/downloader/DownloaderPlugin.html" target="_top">Frames</a></li>
<li><a href="DownloaderPlugin.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.castlabs.sdk.downloader</div>
<h2 title="Class DownloaderPlugin" class="title">Class DownloaderPlugin</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../player_sdk/com/castlabs/android/Plugin.html?is-external=true" title="class or interface in com.castlabs.android">com.castlabs.android.Plugin</a></li>
<li>
<ul class="inheritance">
<li>com.castlabs.sdk.downloader.DownloaderPlugin</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">DownloaderPlugin</span>
extends <a href="../../../../../player_sdk/com/castlabs/android/Plugin.html?is-external=true" title="class or interface in com.castlabs.android">Plugin</a></pre>
<div class="block">This plugin integrates the offline downloader plugin with the castLabs Player SDK.
 </p>
 You have to register the plugin before you initialize the SDK:
 <p/>
 <pre><code>
  public class MyApp extends Application {
     <code> @</code>Override
      public void onCreate() {
          super.onCreate();

          PlayerSDK.register(new DownloaderPlugin(notificationProvider));
          PlayerSDK.init(getApplicationContext());
      }
 }
 </code></pre>
 <p/>
 Since version 4.1.5, the disk space threshold that determines when a
 <a href="../../../../com/castlabs/sdk/downloader/MessageHandler.html#ACTION_DOWNLOAD_STORAGE_LOW"><code>MessageHandler.ACTION_DOWNLOAD_STORAGE_LOW</code></a> is raised and downloads are paused is
 configurable. You can use <a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#setStorageLowThreshold-int-long-"><code>setStorageLowThreshold(int, long)</code></a> to set custom thresholds.
 By default the minimum of 5% of total storage space and 500 MB is used.
 These are the values that are also used by default for Android System notifications for
 low storage space although the values can vary for different vendors.
 <p/>
 The values van be configured before you register the plugin, for example:
 <p/>
 <pre><code>
  public class MyApp extends Application {
     <code> @</code>Override
      public void onCreate() {
          super.onCreate();

          DownloaderPlugin downloaderPlugin = new DownloaderPlugin(notificationProvider);
          downloaderPlugin.setStorageLowThreshold(5, 500 * 1024 * 1024)
          PlayerSDK.register(downloaderPlugin);
          PlayerSDK.init(getApplicationContext());
      }
 }
 </code></pre>
 <p/>
 You can also set the values at runtime after the plugin was registered by getting
 the registered plugin instance back from the SDK:
 <p/>
 <pre><code>
   DownloaderPlugin downloaderPlugin = PlayerSDK.getPlugin(DownloaderPlugin.class);
   downloaderPlugin.setStorageLowThreshold(5, 500 * 1024 * 1024)
 </code></pre>
 <p/>
 Version 4.1.5 also introduced an new storage mode which can be set through a constructor
 parameter. <a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#STORAGE_LOW_MODE_PAUSE"><code>STORAGE_LOW_MODE_PAUSE</code></a> is the default and is the same behaviour as before.
 In that mode, the service will put all ongoing (loading or queued) downloads into idle state
 when not enough disk space is available while downloading. You have to actively
 resume the now paused downloads.
 <p/>
 The new mode <a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#STORAGE_LOW_MODE_QUEUED"><code>STORAGE_LOW_MODE_QUEUED</code></a> can be used to stop downloads but keeps them in
 the queued state when a storage low event occurs. The benefit of this mode is that downloads will
 be resumed automatically when a more storage is available. The downside is that the service will
 keep running in foreground mode. The storage_ok event is triggered when a download is deleted
 and enough storage is available or when the system triggers a storage ok event. Please note that
 the latter might take some time to be triggered by the system and this is also the reason why
 the service keeps running since we need the service to listen for such events. You can also
 use <a href="../../../../com/castlabs/sdk/downloader/DownloadServiceBinder.html#resumeQueuedDownloads--"><code>DownloadServiceBinder.resumeQueuedDownloads()</code></a> to actively resume downloads.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>3.3.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/castlabs/sdk/downloader/DownloadNotificationProvider.html" title="class in com.castlabs.sdk.downloader"><code>DownloadNotificationProvider</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.StorageLowMode.html" title="annotation in com.castlabs.sdk.downloader">DownloaderPlugin.StorageLowMode</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#DEBUG">DEBUG</a></span></code>
<div class="block">Use this to enable debug log output

 * @param provider Notification provider</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#DEFAULT_DOWNLOADER_THREADS_PRIORITY">DEFAULT_DOWNLOADER_THREADS_PRIORITY</a></span></code>
<div class="block">Default priority value for downloader threads.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#DEFAULT_METADATA_PERSIST_INTERVAL_MS">DEFAULT_METADATA_PERSIST_INTERVAL_MS</a></span></code>
<div class="block">Default interval in ms the download metadata is persisted into the storage.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#DEFAULT_NUM_PARALLEL_DOWNLOADS">DEFAULT_NUM_PARALLEL_DOWNLOADS</a></span></code>
<div class="block">Default number of parallel chunk downloads permitted</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#STORAGE_LOW_MODE_PAUSE">STORAGE_LOW_MODE_PAUSE</a></span></code>
<div class="block">Downloads will be put to <a href="../../../../com/castlabs/sdk/downloader/Download.html#STATE_IDLE"><code>Download.STATE_IDLE</code></a> when a <a href="../../../../com/castlabs/sdk/downloader/MessageHandler.html#ACTION_DOWNLOAD_STORAGE_LOW"><code>MessageHandler.ACTION_DOWNLOAD_STORAGE_LOW</code></a>
 event is triggered.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#STORAGE_LOW_MODE_QUEUED">STORAGE_LOW_MODE_QUEUED</a></span></code>
<div class="block">Downloads will be put to <a href="../../../../com/castlabs/sdk/downloader/Download.html#STATE_QUEUED"><code>Download.STATE_QUEUED</code></a> when a <a href="../../../../com/castlabs/sdk/downloader/MessageHandler.html#ACTION_DOWNLOAD_STORAGE_LOW"><code>MessageHandler.ACTION_DOWNLOAD_STORAGE_LOW</code></a>
 event is triggered.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#DownloaderPlugin-com.castlabs.sdk.downloader.DownloadNotificationProvider-">DownloaderPlugin</a></span>(<a href="../../../../com/castlabs/sdk/downloader/DownloadNotificationProvider.html" title="class in com.castlabs.sdk.downloader">DownloadNotificationProvider</a>&nbsp;provider)</code>
<div class="block">Creates a new instance with support for 10 parallel segment downloads.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#DownloaderPlugin-com.castlabs.sdk.downloader.DownloadNotificationProvider-int-">DownloaderPlugin</a></span>(<a href="../../../../com/castlabs/sdk/downloader/DownloadNotificationProvider.html" title="class in com.castlabs.sdk.downloader">DownloadNotificationProvider</a>&nbsp;provider,
                int&nbsp;numParallelDownloads)</code>
<div class="block">Creates a new instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#DownloaderPlugin-com.castlabs.sdk.downloader.DownloadNotificationProvider-int-int-">DownloaderPlugin</a></span>(<a href="../../../../com/castlabs/sdk/downloader/DownloadNotificationProvider.html" title="class in com.castlabs.sdk.downloader">DownloadNotificationProvider</a>&nbsp;provider,
                int&nbsp;numParallelDownloads,
                int&nbsp;storageLowMode)</code>
<div class="block">Creates a new instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#DownloaderPlugin-com.castlabs.sdk.downloader.DownloadNotificationProvider-int-int-int-long-">DownloaderPlugin</a></span>(<a href="../../../../com/castlabs/sdk/downloader/DownloadNotificationProvider.html" title="class in com.castlabs.sdk.downloader">DownloadNotificationProvider</a>&nbsp;provider,
                int&nbsp;numParallelDownloads,
                int&nbsp;storageLowMode,
                int&nbsp;downloaderThreadsPriority,
                long&nbsp;metadataPersistIntervalMs)</code>
<div class="block">Creates a new instance.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#getId--">getId</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#getStorageLowThreshold-long-">getStorageLowThreshold</a></span>(long&nbsp;totalBytes)</code>
<div class="block">Returns the storage low threshold in bytes</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#setStorageLowThreshold-int-long-">setStorageLowThreshold</a></span>(int&nbsp;percentage,
                      long&nbsp;bytes)</code>
<div class="block">Sets the threshold values that define when downloads are aborted due to not enough
 disk space.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.castlabs.android.Plugin">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.castlabs.android.<a href="../../../../../player_sdk/com/castlabs/android/Plugin.html?is-external=true" title="class or interface in com.castlabs.android">Plugin</a></h3>
<code><a href="../../../../../player_sdk/com/castlabs/android/Plugin.html?is-external=true#init-android.content.Context-" title="class or interface in com.castlabs.android">init</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="STORAGE_LOW_MODE_PAUSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>STORAGE_LOW_MODE_PAUSE</h4>
<pre>public static final&nbsp;int STORAGE_LOW_MODE_PAUSE</pre>
<div class="block">Downloads will be put to <a href="../../../../com/castlabs/sdk/downloader/Download.html#STATE_IDLE"><code>Download.STATE_IDLE</code></a> when a <a href="../../../../com/castlabs/sdk/downloader/MessageHandler.html#ACTION_DOWNLOAD_STORAGE_LOW"><code>MessageHandler.ACTION_DOWNLOAD_STORAGE_LOW</code></a>
 event is triggered. In this mode, the service will stop once all downloads are in
 <a href="../../../../com/castlabs/sdk/downloader/Download.html#STATE_IDLE"><code>Download.STATE_IDLE</code></a> state and you have to actively resume downloads.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.castlabs.sdk.downloader.DownloaderPlugin.STORAGE_LOW_MODE_PAUSE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="STORAGE_LOW_MODE_QUEUED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>STORAGE_LOW_MODE_QUEUED</h4>
<pre>public static final&nbsp;int STORAGE_LOW_MODE_QUEUED</pre>
<div class="block">Downloads will be put to <a href="../../../../com/castlabs/sdk/downloader/Download.html#STATE_QUEUED"><code>Download.STATE_QUEUED</code></a> when a <a href="../../../../com/castlabs/sdk/downloader/MessageHandler.html#ACTION_DOWNLOAD_STORAGE_LOW"><code>MessageHandler.ACTION_DOWNLOAD_STORAGE_LOW</code></a>
 event is triggered. In this mode, the service will keep running and wait for a
 <a href="../../../../com/castlabs/sdk/downloader/MessageHandler.html#ACTION_DOWNLOAD_STORAGE_OK"><code>MessageHandler.ACTION_DOWNLOAD_STORAGE_OK</code></a> event and automatically resume downloads.
 You can also use <a href="../../../../com/castlabs/sdk/downloader/DownloadServiceBinder.html#resumeQueuedDownloads--"><code>DownloadServiceBinder.resumeQueuedDownloads()</code></a> to actively resume
 downloads.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.castlabs.sdk.downloader.DownloaderPlugin.STORAGE_LOW_MODE_QUEUED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_NUM_PARALLEL_DOWNLOADS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_NUM_PARALLEL_DOWNLOADS</h4>
<pre>public static final&nbsp;int DEFAULT_NUM_PARALLEL_DOWNLOADS</pre>
<div class="block">Default number of parallel chunk downloads permitted</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.castlabs.sdk.downloader.DownloaderPlugin.DEFAULT_NUM_PARALLEL_DOWNLOADS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_DOWNLOADER_THREADS_PRIORITY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_DOWNLOADER_THREADS_PRIORITY</h4>
<pre>public static final&nbsp;int DEFAULT_DOWNLOADER_THREADS_PRIORITY</pre>
<div class="block">Default priority value for downloader threads. Value is <code>Thread.NORM_PRIORITY</code>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.castlabs.sdk.downloader.DownloaderPlugin.DEFAULT_DOWNLOADER_THREADS_PRIORITY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_METADATA_PERSIST_INTERVAL_MS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_METADATA_PERSIST_INTERVAL_MS</h4>
<pre>public static final&nbsp;long DEFAULT_METADATA_PERSIST_INTERVAL_MS</pre>
<div class="block">Default interval in ms the download metadata is persisted into the storage. Value is <code>10 * 1000</code>
 The value can be customized in <a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#DownloaderPlugin-com.castlabs.sdk.downloader.DownloadNotificationProvider-int-int-int-long-"><code>DownloaderPlugin(DownloadNotificationProvider, int, int, int, long)</code></a></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.castlabs.sdk.downloader.DownloaderPlugin.DEFAULT_METADATA_PERSIST_INTERVAL_MS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DEBUG">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEBUG</h4>
<pre>public static&nbsp;boolean DEBUG</pre>
<div class="block">Use this to enable debug log output

 * @param provider Notification provider</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DownloaderPlugin-com.castlabs.sdk.downloader.DownloadNotificationProvider-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DownloaderPlugin</h4>
<pre>public&nbsp;DownloaderPlugin(<a href="../../../../com/castlabs/sdk/downloader/DownloadNotificationProvider.html" title="class in com.castlabs.sdk.downloader">DownloadNotificationProvider</a>&nbsp;provider)</pre>
<div class="block">Creates a new instance with support for 10 parallel segment downloads.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>provider</code> - an Implementation of <a href="../../../../com/castlabs/sdk/downloader/DownloadNotificationProvider.html" title="class in com.castlabs.sdk.downloader"><code>DownloadNotificationProvider</code></a></dd>
</dl>
</li>
</ul>
<a name="DownloaderPlugin-com.castlabs.sdk.downloader.DownloadNotificationProvider-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DownloaderPlugin</h4>
<pre>public&nbsp;DownloaderPlugin(<a href="../../../../com/castlabs/sdk/downloader/DownloadNotificationProvider.html" title="class in com.castlabs.sdk.downloader">DownloadNotificationProvider</a>&nbsp;provider,
                        int&nbsp;numParallelDownloads)</pre>
<div class="block">Creates a new instance.
 <p>
 Use this to configure the number of parallel segment downloads. Please note that this
 controls the number of parallel downloaded segments and tracks, but will not cause
 <a href="../../../../com/castlabs/sdk/downloader/Download.html" title="class in com.castlabs.sdk.downloader"><code>Download</code></a> instances to be handled in parallel.
 <p>
 The assets are downloaded in sequence: after the first one is completely downloaded or
 paused or canceled, the next download is started.
 <p>
 The download service will use storage mode <a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#STORAGE_LOW_MODE_PAUSE"><code>STORAGE_LOW_MODE_PAUSE</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>provider</code> - an Implementation of <a href="../../../../com/castlabs/sdk/downloader/DownloadNotificationProvider.html" title="class in com.castlabs.sdk.downloader"><code>DownloadNotificationProvider</code></a></dd>
<dd><code>numParallelDownloads</code> - Number of permitted parallel segment downloads. These segments
                             are from one specific asset. It does <b>not</b> represent
                             the number of parallel assets (movies) downloads, which is always
                             one.</dd>
</dl>
</li>
</ul>
<a name="DownloaderPlugin-com.castlabs.sdk.downloader.DownloadNotificationProvider-int-int-int-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DownloaderPlugin</h4>
<pre>public&nbsp;DownloaderPlugin(<a href="../../../../com/castlabs/sdk/downloader/DownloadNotificationProvider.html" title="class in com.castlabs.sdk.downloader">DownloadNotificationProvider</a>&nbsp;provider,
                        int&nbsp;numParallelDownloads,
                        int&nbsp;storageLowMode,
                        int&nbsp;downloaderThreadsPriority,
                        long&nbsp;metadataPersistIntervalMs)</pre>
<div class="block">Creates a new instance.
 <p>
 Use this to configure the number of parallel segment downloads. Please note that this
 controls the number of parallel downloaded segments and tracks, but will not cause
 <a href="../../../../com/castlabs/sdk/downloader/Download.html" title="class in com.castlabs.sdk.downloader"><code>Download</code></a> instances to be handled in parallel.
 <p>
 The assets are downloaded in sequence: after the first one is completely downloaded or
 paused or canceled, the next download is started.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>provider</code> - an Implementation of <a href="../../../../com/castlabs/sdk/downloader/DownloadNotificationProvider.html" title="class in com.castlabs.sdk.downloader"><code>DownloadNotificationProvider</code></a></dd>
<dd><code>numParallelDownloads</code> - Number of permitted parallel segment downloads. These segments
                                  are from one specific asset. It does <b>not</b> represent
                                  the number of parallel assets (movies) downloads, which is always
                                  one.</dd>
<dd><code>storageLowMode</code> - The storage low mode that will be used</dd>
<dd><code>downloaderThreadsPriority</code> - The priority that will be assigned to the downloader threads.
                                  Should be a positive value between <code>Thread.MIN_PRIORITY</code>
                                  and <code>Thread.MAX_PRIORITY</code>. The default value is
                                  <a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#DEFAULT_DOWNLOADER_THREADS_PRIORITY"><code>DEFAULT_DOWNLOADER_THREADS_PRIORITY</code></a>.</dd>
<dd><code>metadataPersistIntervalMs</code> - The interval in milliseconds when the metadata is persisted
                                                                        into the storage, default is <a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.html#DEFAULT_METADATA_PERSIST_INTERVAL_MS"><code>DEFAULT_METADATA_PERSIST_INTERVAL_MS</code></a></dd>
</dl>
</li>
</ul>
<a name="DownloaderPlugin-com.castlabs.sdk.downloader.DownloadNotificationProvider-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DownloaderPlugin</h4>
<pre>public&nbsp;DownloaderPlugin(<a href="../../../../com/castlabs/sdk/downloader/DownloadNotificationProvider.html" title="class in com.castlabs.sdk.downloader">DownloadNotificationProvider</a>&nbsp;provider,
                        int&nbsp;numParallelDownloads,
                        int&nbsp;storageLowMode)</pre>
<div class="block">Creates a new instance.
 <p>
 Use this to configure the number of parallel segment downloads. Please note that this
 controls the number of parallel downloaded segments and tracks, but will not cause
 <a href="../../../../com/castlabs/sdk/downloader/Download.html" title="class in com.castlabs.sdk.downloader"><code>Download</code></a> instances to be handled in parallel.
 <p>
 The assets are downloaded in sequence: after the first one is completely downloaded or
 paused or canceled, the next download is started.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>provider</code> - an Implementation of <a href="../../../../com/castlabs/sdk/downloader/DownloadNotificationProvider.html" title="class in com.castlabs.sdk.downloader"><code>DownloadNotificationProvider</code></a></dd>
<dd><code>numParallelDownloads</code> - Number of permitted parallel segment downloads. These segments
                             are from one specific asset. It does <b>not</b> represent
                             the number of parallel assets (movies) downloads, which is always
                             one.</dd>
<dd><code>storageLowMode</code> - The storage low mode that will be used</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setStorageLowThreshold-int-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStorageLowThreshold</h4>
<pre>public&nbsp;void&nbsp;setStorageLowThreshold(int&nbsp;percentage,
                                   long&nbsp;bytes)</pre>
<div class="block">Sets the threshold values that define when downloads are aborted due to not enough
 disk space. The values here specify the threshold in percent (between 0 and 100)
 as well as in bytes. The actual threshold is the minimum of the two values.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>percentage</code> - The lower bound as percentage of total space between 0 and 100</dd>
<dd><code>bytes</code> - The lower bound in bytes (must be &gt; 100</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if the values are not valid</dd>
</dl>
</li>
</ul>
<a name="getStorageLowThreshold-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStorageLowThreshold</h4>
<pre>public&nbsp;long&nbsp;getStorageLowThreshold(long&nbsp;totalBytes)</pre>
<div class="block">Returns the storage low threshold in bytes</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>totalBytes</code> - The total bytes available for the file system the threshold is applied to</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The Storage Low threshold</dd>
</dl>
</li>
</ul>
<a name="getId--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getId</h4>
<pre>@NonNull
public&nbsp;java.lang.String&nbsp;getId()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../player_sdk/com/castlabs/android/Plugin.html?is-external=true#getId--" title="class or interface in com.castlabs.android">getId</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../player_sdk/com/castlabs/android/Plugin.html?is-external=true" title="class or interface in com.castlabs.android">Plugin</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/castlabs/sdk/downloader/Downloader.ModelReadyCallback.html" title="interface in com.castlabs.sdk.downloader"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/castlabs/sdk/downloader/DownloaderPlugin.StorageLowMode.html" title="annotation in com.castlabs.sdk.downloader"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/castlabs/sdk/downloader/DownloaderPlugin.html" target="_top">Frames</a></li>
<li><a href="DownloaderPlugin.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
